<div class="bg-light py-1">
    <div class="ht-30"></div>

</div>


<!----------------------------------monprofil -------------------->

<div class="container">
    <div class="row">

        <div class="col-xl-4 col-lg-8 col-md-8 col-sm-12">

            <div class="d-block border rounded bg-white text-center mfliud-bot mb-4">

                <div class="cdt_author px-2 pt-5 pb-4">
                    <div class="dash_auth_thumb circle p-1 border d-inline-flex mx-auto mb-2">
                        <form [formGroup]="formLogo">
                            <img style="width:180px;height:160px;" class="img-fluid circle"
                                src="https://127.0.0.1:8000/uploads/{{logo}}" (click)="open(content,logo)">

                        </form>

                    </div>
                </div>
                <div class="col-xl-6">
                    <form [formGroup]="forminput">
                        <input type="hidden" formControlName="type">
                        <input type="hidden" formControlName="token">
                        <input type="hidden" formControlName="url">
                    </form>
                </div>


                <div class="dash_caption mb-4">
                    <h4 class="fs-lg ft-medium mb-0 lh-1">{{freelance_entreprise.nom_entreprise}}</h4>
                    <span class="text-muted smalls"><i
                            class="lni lni-map-marker mr-1"></i>{{freelance_entreprise.adresse}}</span>
                </div>
                <div class="dashed-list-footer p-3 br-top">
                    <div class="jbd-01-caption pl-1">
                        <a class="text-success d-inline-flex"
                            (click)=" openprofilcomapny(profilcomapny,freelance_entreprise)">
                            <i class="lni lni-pencil"></i></a>
                        <h5> Coordonnées </h5>
                        <div class="other-details text-left">
                            <div class="details ft-medium"><label class="text-muted">Type d'entreprise :</label><span
                                    class="text-dark">{{freelance_entreprise.type_entreprise}}</span></div>
                            <div class="details ft-medium"><label class="text-muted"> Secteur d'activité :</label><span
                                    class="text-dark">{{freelance_entreprise.secteur_activite}}</span></div>
                            <div class="details ft-medium"><label class="text-muted">Email :</label><span
                                    class="text-dark">{{user.email}}</span></div>
                            <div class="details ft-medium"><label class="text-muted">Télélphone :</label><span
                                    class="text-dark">{{freelance_entreprise.telephone}}</span></div>
                        </div>
                    </div>
                </div>





            </div>
        </div>
        <!-- <div class="jb-list-01-title px-2" >
        <h6> les offres en cours:</h6>
        <span class="mr-2 mb-2 d-inline-flex px-2 py-1 rounded theme-cl theme-bg-light"*ngFor="let o of freelance_entreprise.offres">{{o.titre}}</span>
        
    </div> -->

        <div class="col-xl-8">

            <div class="row">

                <div class="bg-white rounded mb-4">
                    <div class="jbd-01 px-3 py-4">
                        <div class="jbd-details mb-4">
                            <h5 class="ft-medium fs-md">Description de l'entreprise</h5>

                            <p>{{freelance_entreprise.descrip}}</p>
                        </div>
                    </div>







                </div>


            </div>


        </div>





    </div>
</div>




























    <div class="_dashboard_content_body py-3 px-3 row">
        <div class="cdt_author px-2 pt-5 pb-4">
            <div class="dash_auth_thumb circle p-1 border d-inline-flex mx-auto mb-2">





            </div>
        </div>

    </div>
    <ng-template #profilcomapny let-modal>

        <div class="modal-header">

            <h4 class="modal-title" id="modal-basic-title"> </h4>
            <button type="button" class="btn btn-close" aria-label="Close"
                (click)="modal.dismiss('Cross click')"></button>
        </div>
        <div class="modal-body">

            <div class="dashboard-widg-bar d-block text-center">


                
                        <div class=" align-items-start justify-content-between">
                            <form [formGroup]="formCom">
                                <div class="row">
                          
                                    <div class="col-lg-4 col-md-12">
                                        <div class="form-group">
                                            <label> nom utilisateur</label>
                                            <input type="text" class="form-control" formControlName="username"
                                            required minlength="3" maxlength="20"
                                       [ngClass]="{ 'is-invalid': submitcompany && f.username.errors }">
   
                                   <div class="invalid-feedback" *ngIf="submitcompany && f['username'].errors">
                                       <div *ngIf="f.username.errors.required">
                                           Nom Utilisateur obligatoire
                                       </div>
                                       <div *ngIf="f.username.errors['minlength']">
                                           Nom utilisateur doit être supérieur à 3 caractére
                                       </div>
                                       <div *ngIf="f.username.errors['maxlength']">
                                           Nom utilisateur doit être inférieur à 20 caractére
                                       </div>
                                   </div>
                                        </div>
                                    </div>


                                    <div class="col-lg-4 col-md-12">
                                        <div class="form-group">
                                            <label> Nom Entreprise</label>
                                            <input type="text" class="form-control" formControlName="nom_entreprise"
                                            input type="text" class="form-control" formControlName="nom_entreprise" required
                                    [ngClass]="{ 'is-invalid': submitcompany && f.nom_entreprise.errors }">

                                       </div>
                                <div class="invalid-feedback" *ngIf="submitcompany && f['nom_entreprise'].errors">
                                    <div *ngIf="f.nom_entreprise.errors.required">
                                        Nom Entreprise obligatoire
                                    </div>

                                </div>
                                        </div>
                                    
                                    <div class="col-lg-4 col-md-12">
                                        <div class="form-group">
                                            <label>Téléphone </label>
                                            <input type="text" class="form-control" formControlName="telephone" required
                                            [ngClass]="{ 'is-invalid': submitcompany && f.telephone.errors }">
                                            </div>
                                            <div class="invalid-feedback" *ngIf="submitcompany && f['telephone'].errors">
                                                <div *ngIf="f.telephone.errors.required">
                                                    Téléphone obligatoire
                                                </div>
                                                <div *ngIf="f.telephone.errors['pattern']">
                                                    Téléphone doit être numérique 
                                                </div>
                                                <div *ngIf="f.telephone.errors['minlength']">
                                                    Minimum 8 numéro
                                                </div>
                                                <div *ngIf="f.telephone.errors['maxlength']">
                                                    Maximum 13 numéro
                                                </div>
                                        </div>
                                    </div>
                                    </div>

                             <div class="row">
                                    
                                    <div class="col-lg-6 col-md-12">
                                        <div class="form-group">
                                            <label>Secteur d'activité</label>
                                            <input type="text" class="form-control" formControlName="secteur_activite"
                                                placeholder="informatique,commerce ..." required  
                                                [ngClass]="{ 'is-invalid': submitcompany && f.secteur_activite.errors }">


                                                <div class="invalid-feedback" *ngIf="submitcompany && f['secteur_activite'].errors">
                                                    <div *ngIf="f.secteur_activite.errors.required">
                                                        Secteur d'activité obligatoire
                                                    </div>
            
                                                </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-md-12">
                                        <div class="form-group">
                                            <label> Type Entreprise </label>
                                            <input type="text" class="form-control" formControlName="type_entreprise" required
                                            [ngClass]="{ 'is-invalid': submitcompany && f.type_entreprise.errors }">

                                            <div class="invalid-feedback" *ngIf="submitcompany && f['type_entreprise'].errors">
                                                <div *ngIf="f.type_entreprise.errors.required">
                                                    Type Entreprise obligatoire
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-6 col-md-12">
                                        <div class="form-group">
                                            <label> Email </label>
                                            <input type="text" class="form-control" formControlName="email"
                                                placeholder="Email" 
                                                  required [ngClass]="{ 'is-invalid': submitcompany && f.email.errors }"
                                                  pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$">

                                                <div class="invalid-feedback" *ngIf="submitcompany && f.email.errors">
                                                    <div *ngIf="f.email.errors['required']">Email obligatoire</div>
                                                    <div *ngIf=" f.email.errors.pattern"> Email non valide
                
                
                                                    </div>
                                                </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-md-12">
                                        <div class="form-group">
                                            <label>Adresse </label>
                                            <input type="text" class="form-control" formControlName="adresse" 
                                             [ngClass]="{ 'is-invalid': submitcompany && f.adresse.errors }">


                                            <div class="invalid-feedback" *ngIf="submitcompany && f['adresse'].errors">
                                                <div *ngIf="f.adresse.errors.required">
                                                    Adresse Entreprise obligatoire
                                                </div>
            
                                            </div>
                                               
                                        </div>
                                    </div>


                                    <div class="col-lg-12 col-md-12">
                                        <div class="form-group">
                                            <label> Description</label>
                                            <textarea cols="30" rows="6" formControlName="descrip"
                                                placeholder="détail de l'entreprise..." class="form-control"></textarea>
                                        </div>
                                    </div></div>

                                    <div class="col-xl-12 col-lg-12">
                                        <div class="form-group">
                                            <button type="submit" (click)="updateprofil()"
                                                class="btn btn-md ft-medium text-light rounded theme-bg">Enregistrer</button>
                                        </div>
                                    </div>

                                
                            </form>
                        </div>
                    </div>
                </div>
           
        
    </ng-template>




    <ng-template #content let-modal>

        <div class="modal-header">

            <h4 class="modal-title" id="modal-basic-title"> </h4>
            <button type="button" class="btn btn-close" aria-label="Close"
                (click)="modal.dismiss('Cross click')"></button>
        </div>
        <div class="modal-body">

            <div class="dashboard-widg-bar d-block text-center">

                <div class="upload-btn-wrapper">
                    <h4>Modifier la photo de profil</h4>&nbsp;&nbsp;
                    <form [formGroup]="formLogo">
                        <input type="file" id="customFile" formControlName="logo" accept="image/png, image/jpeg "
                            class="btn bg-dark  text-light ft-regular ml-1" (change)="onFileSelected($event)" />
                        <button type="submit" class="btn theme-bg text-light ft-regular ml-1" aria-label="Close"
                            (click)="uploadImage();modal.dismiss('Cross click')"> Enregistrer </button>

                    </form>

                    <div class="container">

                        <img style="width:150px;height: 150px;" class="img-fluid circle" src="https://127.0.0.1:8000/uploads/{{logo}}">
                    </div>
                </div>
            </div>






        </div>
    </ng-template>
<a id="back2Top" class="top-scroll" title="Back to top" style="display: inline;"><i class="ti-arrow-up"></i></a>